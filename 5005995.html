<!DOCTYPE html>
<html lang="en">
<head>
<link rel="stylesheet" type="text/css" href="kodlas.css" />
<title>Kod 5</title>

<!-- DET ÄR FUSK ATT TJUVKIKA I KÄLLKODEN. LÅT BLI DET. -->



<meta charset="UTF-8">
</head>
<body translate="no">
<p id="infected">
<marquee>
junifesten.se är infekterad
</marquee>
</p>
<p id="kommentar">
	Jag är motvilligt imponerad ... Men tar ni den här då?
</p>
<p id="clue">
	<img src="kod5.png" alt="Kod 5" width="375" height="271"><br>
	http://runeberg.org/fstal/2q.html 
</p>
<div id="lock-plate">
<span></span><span></span><span></span><span></span>
<div id="lock-wrapper">
<div class="welcome-message"><a href="6XXXX.html">NÄSTA!</a></div>
<div class="lock-dial" id="dial-one"><ul data-combo-num="A">
<li>P</li>
<li>Q</li>
<li>R</li>
<li>S</li>
<li>T</li>
<li>U</li>
<li>V</li>
<li>W</li>
<li>X</li>
<li>Y</li>
<li>Z</li>
<li>Å</li>
<li>Ä</li>
<li>Ö</li>
<li>A</li>
<li>B</li>
<li>C</li>
<li>D</li>
<li>E</li>
<li>F</li>
<li>G</li>
<li>H</li>
<li>I</li>
<li>J</li>
<li>K</li>
<li>L</li>
<li>M</li>
<li>N</li>
<li>O</li>
</ul></div>
<div class="lock-dial" id="dial-two"><ul data-combo-num="A">
<li>P</li>
<li>Q</li>
<li>R</li>
<li>S</li>
<li>T</li>
<li>U</li>
<li>V</li>
<li>W</li>
<li>X</li>
<li>Y</li>
<li>Z</li>
<li>Å</li>
<li>Ä</li>
<li>Ö</li>
<li>A</li>
<li>B</li>
<li>C</li>
<li>D</li>
<li>E</li>
<li>F</li>
<li>G</li>
<li>H</li>
<li>I</li>
<li>J</li>
<li>K</li>
<li>L</li>
<li>M</li>
<li>N</li>
<li>O</li>
</ul></div>
<div class="lock-dial" id="dial-three"><ul data-combo-num="A">
<li>P</li>
<li>Q</li>
<li>R</li>
<li>S</li>
<li>T</li>
<li>U</li>
<li>V</li>
<li>W</li>
<li>X</li>
<li>Y</li>
<li>Z</li>
<li>Å</li>
<li>Ä</li>
<li>Ö</li>
<li>A</li>
<li>B</li>
<li>C</li>
<li>D</li>
<li>E</li>
<li>F</li>
<li>G</li>
<li>H</li>
<li>I</li>
<li>J</li>
<li>K</li>
<li>L</li>
<li>M</li>
<li>N</li>
<li>O</li>
</ul></div>
<div class="lock-dial" id="dial-four"><ul data-combo-num="A">
<li>P</li>
<li>Q</li>
<li>R</li>
<li>S</li>
<li>T</li>
<li>U</li>
<li>V</li>
<li>W</li>
<li>X</li>
<li>Y</li>
<li>Z</li>
<li>Å</li>
<li>Ä</li>
<li>Ö</li>
<li>A</li>
<li>B</li>
<li>C</li>
<li>D</li>
<li>E</li>
<li>F</li>
<li>G</li>
<li>H</li>
<li>I</li>
<li>J</li>
<li>K</li>
<li>L</li>
<li>M</li>
<li>N</li>
<li>O</li>
</ul></div>

</div>
</div>
<p id="lank">
Direktlänk till den här sidan: <a href="http://junifesten.se/5005995.html">http://junifesten.se/5005995.html</a>
</p>
<p id="infected">
<marquee>
junifesten.se är infekterad
</marquee>
</p>
<script src="https://static.codepen.io/assets/common/stopExecutionOnTimeout-157cd5b220a5c80d4ff8e0e70ac069bffd87a61252088146915e8726e5d9f147.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js'></script>
<script id="rendered-js">
function nextChar(c) {
	if (c.localeCompare('Z') == 0) return 'Å';
	if (c.localeCompare('Å') == 0) return 'Ä';
	if (c.localeCompare('Ä') == 0) return 'Ö';
	if (c.localeCompare('Ö') == 0) return '9';
    return String.fromCharCode(c.charCodeAt(0) + 1);
}

function prevChar(c) {
	if (c.localeCompare('Å') == 0) return 'Z';
	if (c.localeCompare('Ä') == 0) return 'Å';
	if (c.localeCompare('Ö') == 0) return 'Ä';
	if (c.localeCompare('A') == 0) return '0';
    return String.fromCharCode(c.charCodeAt(0) - 1);
}

$(function () {

  var comboArray = ['A', 'A', 'A', 'A'];
  var combination = ['A', 'A', 'A', 'B'];

 
  var gridIncrement = $(".lock-dial ul").css('line-height').replace('px', '') / 2;
  var numNums = $(".lock-dial:eq(0) ul li").length;
  var halfHeight = gridIncrement * numNums;
  var initTop = -(halfHeight - gridIncrement);

  $(".lock-dial ul").css('top', initTop);

  $(".lock-dial ul").draggable({
    grid: [0, gridIncrement],
    axis: 'y',
    drag: function () {
      var dragDir = $(this).css('top').replace('px', '') < initTop ? "up" : "down";

      if (dragDir == "up") {
        var curNum = nextChar($(this).find('li:last-child').text());
        if (curNum.localeCompare('9') == 0) {
          $(this).append('<li>A</li>');
        } else {
          $(this).append('<li>' + curNum + '</li>');
        };
      } else {
        var curNum = prevChar($(this).find('li:first-child').text());
        var thisTop = parseInt($(this).css('margin-top').replace('px', ''));

        $(this).css({
          marginTop: thisTop - gridIncrement * 2 });


        if (curNum.localeCompare('0') == 0) {
          $(this).prepend('<li>Ö</li>');
        } else {
          $(this).prepend('<li>' + curNum + '</li>');
        };
      };
    },
    stop: function () {

      //MATHS		
      var negOrPos = $(this).css('margin-top').replace('px', '') > 0 ? 1 : -1;
      var thisTopTotal = parseInt($(this).css('top').replace('px', '')) + Math.abs(initTop);
      var marginMinified = parseInt(Math.abs($(this).css('margin-top').replace('px', ''))) - thisTopTotal;
      var numIncs = Math.floor(marginMinified / (halfHeight * 2));
      var totalDif = numIncs * (halfHeight * 2);
      var topTen = (marginMinified - totalDif) * negOrPos;
      var activeIndex = Math.abs(topTen / (gridIncrement * 2)) + halfHeight / (gridIncrement * 2);

      $(this).attr("data-combo-num", $(this).find('li').eq(activeIndex).text()).css({
        top: -980,
        marginTop: topTen }).
      find('li').slice(2*numNums).remove();

      for (var i = 0; i < $(".lock-dial ul").length; i++) {if (window.CP.shouldStopExecution(0)) break;
        comboArray[i] = $(".lock-dial ul:eq(" + i + ")").attr("data-combo-num");
      }window.CP.exitedLoop(0);


      if (comboArray == "" + combination) {
        $('.lock-dial ul').draggable('disable');
        $('#lock-wrapper').addClass("unlocked");
        $('.lock-dial').each(function () {
          var $this = $(this);
          $this.find('ul').delay(400).css('color', '#0f0').fadeOut(function () {
            $this.animate({
              marginTop: 150 },
            function () {
              $this.fadeOut(function () {
                $('.welcome-message').fadeIn();
              });
            });
          });
        });
      }
    } });


});
</script>
</body>
</html>
